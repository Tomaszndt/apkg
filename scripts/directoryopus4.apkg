name="directoryopus"
tags="manager, file, file-browser"
version="4.19"
cpu=68000
require="amigaos>3"
description="Directory Opus version 4"
packager="lobotomius@gmail.com"
source=(
    "https://master.dl.sourceforge.net/project/diropus4/DirectoryOpus4-OS3/DOpus417pre21.lzx*bc3b49823af6c7a33351d3e8e3adaea78cd410858ce42477de4408cfac78c80a"
)
upstream="http://dopus.free.fr/index.php"

# this function is executed on build
# functions
#  makedir path (relative to $pkgdir)
#  copy source destination (source relative to $srcdir, destination to $pkgdir)
# variables
#  $srcdir
#  $pkgdir

function build {
    local file

    local iconszip="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"

    unlzx "DOpus417pre21.lzx"
    echo "$iconszip" | base64 -d > icons.zip && unzip icons.zip

    copy "ConfigOpus.info" "Utilities/DirectoryOpus4/"
    copy "DirectoryOpus.info" "Utilities/DirectoryOpus4/"
    copy "DirectoryOpus4.info" "Utilities/"

    for file in DirectoryOpus DOpus_Icon DOpus_Print ConfigOpus DOpusRT DOpus_Disk; do
        copy "$file" "Utilities/DirectoryOpus4/"
    done

    copy "dopus.library" "Libs/"

    # https://sourceforge.net/projects/diropus4/
}

# this function is executed on installation after all files have been copied
function post_install {
    :
}

# vim: ts=4:syntax=sh: